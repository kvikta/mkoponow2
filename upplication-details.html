<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>You're eligible</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 100%;
            padding: 20px;
            background-color: #555ab1;
            margin: 0;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: bold;
            font-size: 1.5em;
        }

        .logo-circle {
            width: 30px;
            height: 30px;
            background-color: #cdf4d0;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .bolt {
            color: #00c853;
            font-size: 1.2em;
        }

        .dark-mode {
            background: #cdf4d0;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        h1 {
            font-size: 1.5em;
            text-align: center;
            margin: 20px 0;
            color: white;
        }

        h2 {
            font-size: 1em;
            text-align: left;
            margin: 20px 0;
            color: rgb(237, 230, 230);
        }

        h3 {
            font-size: 1.1em;
            margin: 20px 0;
            color: rgb(175, 170, 170);
        }

        h4 {
            font-size: 1.2em;
            margin: 20px 0;
            color: white;
        }

        h5 {
            font-size: 1em;
            margin: 20px 0;
            color: rgb(151, 147, 147);
        }

        h6 {
            font-size: 1.2em;
            margin: 20px 0;
            color: white;
        }

        .loan-message {
            background: linear-gradient(135deg, #555ab1, #070930);
            padding: 20px;
            border-radius: 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            max-width: 100%;
            margin: 0 auto;
        }

        .verify-button {
            background: linear-gradient(135deg, #555ab1, #070930);
            color: white;
            padding: 12px 20px;
            border-radius: 20px;
            border: none;
            width: 80%;
            font-size: 1.2em;
            cursor: pointer;
            margin: 10px auto;
            display: block;
            font-weight: bold;
        }

        .verify-buttons {
            background: #05a247;
            color: white;
            border-radius: 20px;
            border: none;
            width: 80%;
            font-size: 1em;
            cursor: pointer;
            margin: 10px auto;
            padding: 12px 20px;
            display: block;
        }

        .loan-table {
            background: #ddeefa;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            max-width: 100%;
            margin: 20px auto;
        }

        .loan-tabless {
            background: #ddeefa;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            max-width: 100%;
            margin: 20px auto;
        }

        .loan-table div {
            display: flex;
            border-bottom: 1px solid #f0f0f0;
        }

        .loan-table div:last-child {
            border-bottom: none;
        }

        .loan-table .label {
            flex: 1;
            padding: 15px;
            background: #ddeefa;
            color: #000000;
        }

        .loan-table .labels {
            flex: 1;
            padding: 15px;
            background: #ddeefa51;
            color: #000000;
        }

        .loan-table .value {
            flex: 1;
            padding: 15px;
            color: #333;
        }

        .loan-tabless div {
            display: flex;
            border-bottom: 1px solid #f0f0f0;
        }

        .loan-tabless div:last-child {
            border-bottom: none;
        }

        .loan-tabless .label {
            flex: 1;
            padding: 15px;
            background: #ddeefa;
            color: #000000;
        }

        .loan-tabless .labels {
            flex: 1;
            padding: 15px;
            background: #ddeefa51;
            color: #000000;
        }

        .loan-tabless .value {
            flex: 1;
            padding: 15px;
            color: #333;
        }

        .status-pending {
            background: #ad6721;
            color: white;
            padding: 5px 15px;
            border-radius: 15px;
            display: inline-block;
        }

        .status-not-verified {
            background: #e6061d;
            color: white;
            padding: 5px 15px;
            border-radius: 15px;
            display: inline-block;
        }

        .footer {
            text-align: center;
            color: wheat;
            margin-top: 20px;
            font-size: 1em;
        }

        #pwa-install-popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 90%;
            max-width: 400px;
            background: transparent;
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .pwa-popup-content {
            background: transparent;
            padding: 2rem;
            text-align: center;
            box-shadow: 0 4px 20px transparent;
        }

        .pwa-popup-content img {
            width: 150px;
            height: 150px;
            margin: 1rem auto;
            display: block;
        }

        .pwa-popup-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 1rem;
        }

        .pwa-popup-buttons button {
            flex: 1;
            margin: 0 0.5rem;
            padding: 1rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
        }

        .pwa-install-btn {
            background: linear-gradient(135deg, #6b73ff, #000dff);
            color: white;
        }

        .pwa-cancel-btn {
            background: #f1f1f1;
            color: #333;
        }

        .gif-container img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
        }

        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            .logo {
                font-size: 1.2em;
            }

            h1 {
                font-size: 1.3em;
            }

            h2, h3, h4, h5, h6 {
                font-size: 0.9em;
            }

            .loan-message {
                padding: 15px;
                border-radius: 15px;
            }

            .verify-button, .verify-buttons {
                width: 90%;
                font-size: 1em;
            }

            .loan-table, .loan-tabless {
                margin: 10px auto;
            }

            .loan-table .labels, .loan-tabless .labels {
                font-size: 0.9em;
                padding: 10px;
            }
        }
    </style>
</head>
<body>
    <div id="pwa-install-popup">
        <div class="pwa-popup-content">
            <div class="gif-container">
                <img src="assets/process.gif" alt="Authorization GIF" id="gifcontent">
            </div>
        </div>
    </div>

    <div class="loan-message">
        <h1>Successful! You're eligible for a loan!</h1>
        <h2>Quick repayment will earn you better eligibility score..</h2>
        <h3>Loan Amount Qualified</h3>
        <h4 id="limit">Ksh 6,500</h4>
        <h5>Term <span style="margin-left: 50%;">Receive Amount</span></h5>
        <h4>14 days <span style="margin-left: 45%;" id="received">Ksh 5,344</span></h4>
    </div>

    <div class="loan-table">
        <div>
            <div class="labels">Awarded Loan Amount :</div>
            <div class="labels" id="limit1"><strong>Ksh 6,500</strong></div>
        </div>
        <div>
            <div class="labels">Comprehensive Service Fee :</div>
            <div class="labels" id="Servicefee"><strong>Ksh 636</strong></div>
        </div>
        <div>
            <div class="labels">Interest Rate :</div>
            <div class="labels" id="user-nam"><strong>8%</strong></div>
        </div>
        <div>
            <div class="labels">Interest Applied(8%) :</div>
            <div class="labels" id="interestrate"><strong>Ksh 520</strong></div>
        </div>
        <div>
            <div class="labels">Disburseable Amount to Mpesa :</div>
            <div class="labels" id="received1"><strong>Ksh 5,344</strong></div>
        </div>
    </div>

    <div class="loan-tabless">
        <div>
            <div class="labels"><strong>Mpesa Account</strong></div>
        </div>
        <div>
            <div class="labels" id="phonenumber"></div>
        </div>
        <div>
            <div class="labels" id="youname"></div>
        </div>
        <button class="verify-button" onclick="goToSecondPage()">Apply Now</button>
    </div>

    <div class="footer">
        Â©Mkopo Now 2025.
    </div>

    <script>
        let limit = document.getElementById('limit');
        let limit1 = document.getElementById('limit1');
        let Servicefee = document.getElementById('Servicefee');
        let interestrate = document.getElementById('interestrate');
        let received = document.getElementById('received');
        let received1 = document.getElementById('received1');

        let lims = 0.00;
        lims = parseFloat(localStorage.getItem('limit'));       
        limit.textContent = "Ksh " + (lims.toFixed(2)); 
        limit1.textContent = "Ksh " + (lims.toFixed(2));
        limit1.innerHTML = '<b>' + limit1.innerHTML + '</b>';

        let fee = 0.00;
        let savingamount = 0.00;
        
        if (lims >= 7500) {
            fee = 292.00;
            savingamount = 365.00;
        } else if (lims >= 5000) {
            fee = 248.00;
            savingamount = 285.00;
        } else if (lims >= 3500) {
            fee = 198.00;
            savingamount = 225.00;
        } else if (lims <= 3500) {
            fee = 156.00;
            savingamount = 175.00;
        }

        localStorage.setItem('saveamount', savingamount);

        let interestR = (lims * 0.08);
        interestrate.textContent = "Ksh " + (interestR.toFixed(2));
        Servicefee.textContent = "Ksh " + (fee.toFixed(2));
        let receiveable = lims - (interestR + fee).toFixed(2);
        received.textContent = "Ksh " + (receiveable.toFixed(2));
        received1.textContent = "Ksh " + (receiveable.toFixed(2));

        received1.innerHTML = '<b>' + received1.innerHTML + '</b>';
        Servicefee.innerHTML = '<b>' + Servicefee.innerHTML + '</b>';
        interestrate.innerHTML = '<b>' + interestrate.innerHTML + '</b>';

        function goToSecondPage() {
            window.location.href = 'second-page.html';
        }
    </script>
    <script src="loan-details.js"></script>
    <script src="index.js"></script>
</body>
</html>
